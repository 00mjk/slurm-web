<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Slurm HPC Dashboard</title>
    <link rel="shortcut icon" href="static/favicon.ico" type="image/x-icon">
    <link rel="icon" href="static/favicon.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
      svg.graph {
        height: 500px;
        width: 800px;
        border: 1px solid red;
      }

      svg.graph .node {
        stroke: pink;
        stroke-width: 1;
        fill: transparent;
      }

      svg.graph text {
        stroke: blue;
        stroke-width: 3;
        text-anchor: middle;
      }
    </style>

    <script src="https://code.jquery.com/jquery-1.7.2.min.js"></script>

    <script>
      var Graph = function(datas) {
        this.width;
        this.height;
        this.rows = 0;
        this.cols = [];
        this.graph = [];

        for (var sw in datas) {

        }
      };

      function strToAry(nodes) {
        var name = nodes.slice(0, nodes.indexOf('[')),
            start = parseInt(nodes.slice(nodes.indexOf('[') + 1, nodes.indexOf('-'))),
            end = parseInt(nodes.slice(nodes.indexOf('-') + 1, nodes.indexOf(']'))),
            result = [];
        for (var i = start; i <= end; i++) {
          result.push(name + i);
        }
        return result;
      }

      window.switches = {
        "s0": { "nodes": strToAry("tux[0-3]")},
        "s1": { "nodes": strToAry("tux[4-7]")},
        "s2": { "nodes": strToAry("tux[8-11]")},
        "s3": { "nodes": strToAry("tux[12-15]")},
        "s4": { "switches": strToAry("s[0-3]")},
        "s5": { "switches": strToAry("s[0-3]")},
        "s6": { "switches": strToAry("s[0-3]")},
        "s7": { "switches": strToAry("s[0-3]")}
      }

      window.graph = {
        "s4": {
          "s0": strToAry("tux[0-3]"),
          "s1": strToAry("tux[4-7]"),
          "s2": strToAry("tux[8-11]"),
          "s3": strToAry("tux[12-15]")
        },
        "s5": {
          "s0": strToAry("tux[0-3]"),
          "s1": strToAry("tux[4-7]"),
          "s2": strToAry("tux[8-11]"),
          "s3": strToAry("tux[12-15]")
        },
        "s6": {
          "s0": strToAry("tux[0-3]"),
          "s1": strToAry("tux[4-7]"),
          "s2": strToAry("tux[8-11]"),
          "s3": strToAry("tux[12-15]")
        },
        "s7": {
          "s0": strToAry("tux[0-3]"),
          "s1": strToAry("tux[4-7]"),
          "s2": strToAry("tux[8-11]"),
          "s3": strToAry("tux[12-15]")
        }
      }



    </script>
  </head>
  <body>
    <svg class="graph" width="300px" height="200px" version="1.1"
     viewBox="0 0 1500 1000" preserveAspectRatio="none"
     xmlns="http://www.w3.org/2000/svg">
      <g class="node">
        <rect x="50" y="20" width="100" height="50" />
        <text x="100" y="45" dy=".3em">Texte</text>
      </g>
    </svg>
  </body>
</html>
